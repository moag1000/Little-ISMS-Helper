{% extends 'base.html.twig' %}
{% trans_default_domain 'people' %}

{% block title %}{{ 'person.title.create'|trans({}, 'messages') }} - Little ISMS Helper{% endblock %}

{% block body %}
<div class="container-fluid py-4">
    {% include '_components/_breadcrumb.html.twig' with {
        breadcrumbs: [
            { label: 'nav.people'|trans({}, 'nav'), url: path('app_person_index') },
            { label: 'person.title.create'|trans({}, 'messages') }
        ]
    } %}
</div>

<div class="page-header">
    <div>
        <h1>{{ 'person.title.create'|trans({}, 'messages') }}</h1>
    </div>
    <div class="button-group">
        <a href="{{ path('app_person_index') }}" class="btn btn-secondary">
            ‚Üê {{ 'common.back_to_list'|trans({}, 'messages') }}
        </a>
    </div>
</div>

<div class="card">
    {{ form_start(form) }}

    <h2>{{ 'person.section.basic_info'|trans({}, 'messages') }}</h2>

    <div class="form-group">
        {{ form_label(form.fullName) }}
        {{ form_widget(form.fullName, {'attr': {'class': 'form-control', 'placeholder': 'person.placeholder.name'|trans({}, 'messages')}}) }}
        {{ form_errors(form.fullName) }}
    </div>

    <div class="form-group">
        {{ form_label(form.personType) }}
        {{ form_widget(form.personType, {'attr': {'class': 'form-select'}}) }}
        {{ form_errors(form.personType) }}
    </div>

    <div class="form-group">
        {{ form_label(form.badgeId) }}
        {{ form_widget(form.badgeId, {'attr': {'class': 'form-control', 'placeholder': 'person.placeholder.badge'|trans({}, 'messages')}}) }}
        {{ form_errors(form.badgeId) }}
        <small class="small-muted-block">
            {{ 'person.help.badge'|trans({}, 'messages') }}
        </small>
    </div>

    <h2 class="h3-mt-lg">{{ 'person.section.organization'|trans({}, 'messages') }}</h2>

    <div class="form-group">
        {{ form_label(form.company) }}
        {{ form_widget(form.company, {'attr': {'class': 'form-control'}}) }}
        {{ form_errors(form.company) }}
    </div>

    <div class="form-group">
        {{ form_label(form.department) }}
        {{ form_widget(form.department, {'attr': {'class': 'form-control'}}) }}
        {{ form_errors(form.department) }}
    </div>

    <div class="form-group">
        {{ form_label(form.jobTitle) }}
        {{ form_widget(form.jobTitle, {'attr': {'class': 'form-control'}}) }}
        {{ form_errors(form.jobTitle) }}
    </div>

    <h3 class="h3-mt-lg">{{ 'person.section.contact'|trans({}, 'messages') }}</h3>

    <div class="form-group">
        {{ form_label(form.email) }}
        {{ form_widget(form.email, {'attr': {'class': 'form-control', 'type': 'email'}}) }}
        {{ form_errors(form.email) }}
    </div>

    <div class="form-group">
        {{ form_label(form.phone) }}
        {{ form_widget(form.phone, {'attr': {'class': 'form-control'}}) }}
        {{ form_errors(form.phone) }}
    </div>

    {% if form.notes is defined %}
    <h3 class="h3-mt-lg">{{ 'person.section.additional'|trans({}, 'messages') }}</h3>

    <div class="form-group">
        {{ form_label(form.notes) }}
        {{ form_widget(form.notes, {'attr': {'class': 'form-control', 'rows': 4}}) }}
        {{ form_errors(form.notes) }}
    </div>
    {% endif %}

    <div class="d-flex gap-2 mt-4">
        <button type="submit" class="btn btn-success">
            üíæ {{ 'common.create'|trans({}, 'messages') }}
        </button>
        <a href="{{ path('app_person_index') }}" class="btn btn-secondary">
            ‚ùå {{ 'common.cancel'|trans({}, 'messages') }}
        </a>
    </div>

    {{ form_end(form) }}
</div>
{% endblock %}
