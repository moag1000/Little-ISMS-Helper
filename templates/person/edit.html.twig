{% extends 'base.html.twig' %}
{% trans_default_domain 'people' %}

{% block title %}{{ 'person.title.edit'|trans({}, 'messages') }} - {{ person.fullName }} - Little ISMS Helper{% endblock %}

{% block body %}
<div class="page-header">
    <div>
        <h1>{{ 'person.title.edit'|trans({}, 'messages') }}: {{ person.fullName }}</h1>
    </div>
    <div class="button-group">
        <a href="{{ path('app_person_show', {id: person.id}) }}" class="btn btn-secondary">
            ‚Üê {{ 'common.back'|trans({}, 'messages') }}
        </a>
    </div>
</div>

<div class="card">
    {{ form_start(form) }}

    <h2>{{ 'person.section.basic_info'|trans({}, 'messages') }}</h3>

    <div class="form-group">
        {{ form_label(form.fullName) }}
        {{ form_widget(form.fullName, {'attr': {'class': 'form-control'}}) }}
        {{ form_errors(form.fullName) }}
    </div>

    <div class="form-group">
        {{ form_label(form.personType) }}
        {{ form_widget(form.personType, {'attr': {'class': 'form-select'}}) }}
        {{ form_errors(form.personType) }}
    </div>

    <div class="form-group">
        {{ form_label(form.badgeId) }}
        {{ form_widget(form.badgeId, {'attr': {'class': 'form-control'}}) }}
        {{ form_errors(form.badgeId) }}
    </div>

    <h2 style="margin-top: var(--spacing-lg);">{{ 'person.section.organization'|trans({}, 'messages') }}</h2>

    <div class="form-group">
        {{ form_label(form.company) }}
        {{ form_widget(form.company, {'attr': {'class': 'form-control'}}) }}
        {{ form_errors(form.company) }}
    </div>

    <div class="form-group">
        {{ form_label(form.department) }}
        {{ form_widget(form.department, {'attr': {'class': 'form-control'}}) }}
        {{ form_errors(form.department) }}
    </div>

    <div class="form-group">
        {{ form_label(form.jobTitle) }}
        {{ form_widget(form.jobTitle, {'attr': {'class': 'form-control'}}) }}
        {{ form_errors(form.jobTitle) }}
    </div>

    <h3 style="margin-top: var(--spacing-lg);">{{ 'person.section.contact'|trans({}, 'messages') }}</h3>

    <div class="form-group">
        {{ form_label(form.email) }}
        {{ form_widget(form.email, {'attr': {'class': 'form-control'}}) }}
        {{ form_errors(form.email) }}
    </div>

    <div class="form-group">
        {{ form_label(form.phone) }}
        {{ form_widget(form.phone, {'attr': {'class': 'form-control'}}) }}
        {{ form_errors(form.phone) }}
    </div>

    {% if form.notes is defined %}
    <h3 style="margin-top: var(--spacing-lg);">{{ 'person.section.additional'|trans({}, 'messages') }}</h3>

    <div class="form-group">
        {{ form_label(form.notes) }}
        {{ form_widget(form.notes, {'attr': {'class': 'form-control', 'rows': 4}}) }}
        {{ form_errors(form.notes) }}
    </div>
    {% endif %}

    <div class="d-flex gap-2 mt-4">
        <button type="submit" class="btn btn-success">
            üíæ {{ 'common.save'|trans({}, 'messages') }}
        </button>
        <a href="{{ path('app_person_show', {id: person.id}) }}" class="btn btn-secondary">
            ‚ùå {{ 'common.cancel'|trans({}, 'messages') }}
        </a>
    </div>

    {{ form_end(form) }}
</div>
{% endblock %}
