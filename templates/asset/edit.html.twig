{% extends 'base.html.twig' %}
{% trans_default_domain 'assets' %}

{% block title %}{{ 'assets.title.edit'|trans({}, 'assets') }} - {{ parent() }}{% endblock %}

{% block body %}
{# Breadcrumb Navigation #}
{% include '_components/_breadcrumb.html.twig' with {
    breadcrumbs: [
        { label: 'nav.assets'|trans({}, 'nav', 'nav'), url: path('app_asset_index'), icon: 'bi-cpu' },
        { label: asset.name, url: path('app_asset_show', {id: asset.id}) },
        { label: 'assets.title.edit'|trans({}, 'assets') }
    ]
} %}

{# Page Header #}
{% include '_components/_page_header.html.twig' with {
    title: 'assets.title.edit'|trans({}, 'assets') ~ ': ' ~ asset.name,
    icon: 'bi-pencil',
    actions: [
        { label: 'common.back'|trans({}, 'messages'), url: path('app_asset_show', {id: asset.id}), variant: 'secondary', icon: 'bi-arrow-left' }
    ]
} %}

<div class="card">
    <div class="card-body">
        {{ form_start(form) }}
            {% include 'asset/_form.html.twig' with {
                'button_label': 'assets.action.update'|trans({}, 'assets'),
                'button_icon': 'bi-check-circle'
            } %}
        {{ form_end(form) }}
    </div>
</div>

{# Delete Danger Zone (only for edit) #}
<div class="card border-danger mt-4">
    <div class="card-header bg-danger text-white">
        <h3 class="mb-0">
            <i class="bi bi-exclamation-triangle" aria-hidden="true"></i>
            {{ 'common.danger_zone'|trans({}, 'messages') }}
        </h3>
    </div>
    <div class="card-body">
        <p class="text-muted">
            {{ 'assets.warning.delete_irreversible'|trans({}, 'assets') }}
        </p>
        {{ include('asset/_delete_form.html.twig') }}
    </div>
</div>
{% endblock %}
