{% extends 'admin/layout.html.twig' %}

{% block admin_title %}{{ 'admin.settings.application.title'|trans({}, 'admin') }}{% endblock %}

{% block breadcrumb_items %}
    <li class="breadcrumb-item"><a href="{{ path('admin_settings_index') }}">{{ 'admin.settings.title'|trans({}, 'admin') }}</a></li>
    <li class="breadcrumb-item active">{{ 'admin.settings.application.title'|trans({}, 'admin') }}</li>
{% endblock %}

{% block admin_content %}
    <div class="row">
        <div class="col-lg-8">
            <div class="card">
                <div class="card-header bg-white">
                    <h3 class="card-title mb-0">
                        <i class="bi bi-gear-fill text-primary" aria-hidden="true"></i>
                        {{ 'admin.settings.application.title'|trans({}, 'admin') }}
                    </h5>
                </div>
                <div class="card-body">
                    <form method="post">
                        {# Locale Settings #}
                        <div class="mb-4">
                            <h4 class="border-bottom pb-2 mb-3">{{ 'admin.settings.application.locale_settings'|trans({}, 'admin') }}</h5>

                            <div class="mb-3">
                                <label for="default_locale" class="form-label">{{ 'admin.settings.application.default_locale'|trans({}, 'admin') }}</label>
                                <select name="default_locale" id="default_locale" class="form-select">
                                    <option value="de" {% if settings.default_locale == 'de' %}selected{% endif %}>Deutsch (de)</option>
                                    <option value="en" {% if settings.default_locale == 'en' %}selected{% endif %}>English (en)</option>
                                </select>
                                <div class="form-text">{{ 'admin.settings.application.default_locale_help'|trans({}, 'admin') }}</div>
                            </div>

                            <div class="mb-3">
                                <label class="form-label" id="supported-locales-label">{{ 'admin.settings.application.supported_locales'|trans({}, 'admin') }}</label>
                                <div class="form-check" role="group" aria-labelledby="supported-locales-label">
                                    <input class="form-check-input" type="checkbox" name="supported_locales[]" value="de" id="locale_de"
                                           {% if 'de' in settings.supported_locales %}checked{% endif %}>
                                    <label class="form-check-label" for="locale_de">Deutsch (de)</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="supported_locales[]" value="en" id="locale_en"
                                           {% if 'en' in settings.supported_locales %}checked{% endif %}>
                                    <label class="form-check-label" for="locale_en">English (en)</label>
                                </div>
                                <div class="form-text">{{ 'admin.settings.application.supported_locales_help'|trans({}, 'admin') }}</div>
                            </div>
                        </div>

                        {# Display Settings #}
                        <div class="mb-4">
                            <h4 class="border-bottom pb-2 mb-3">{{ 'admin.settings.application.display_settings'|trans({}, 'admin') }}</h5>

                            <div class="mb-3">
                                <label for="items_per_page" class="form-label">{{ 'admin.settings.application.items_per_page'|trans({}, 'admin') }}</label>
                                <input type="number" name="items_per_page" id="items_per_page" class="form-control"
                                       value="{{ settings.items_per_page }}" min="10" max="100" step="5">
                                <div class="form-text">{{ 'admin.settings.application.items_per_page_help'|trans({}, 'admin') }}</div>
                            </div>

                            <div class="mb-3">
                                <label for="timezone" class="form-label">{{ 'admin.settings.application.timezone'|trans({}, 'admin') }}</label>
                                <select name="timezone" id="timezone" class="form-select">
                                    <option value="Europe/Berlin" {% if settings.timezone == 'Europe/Berlin' %}selected{% endif %}>Europe/Berlin (GMT+1)</option>
                                    <option value="Europe/London" {% if settings.timezone == 'Europe/London' %}selected{% endif %}>Europe/London (GMT)</option>
                                    <option value="America/New_York" {% if settings.timezone == 'America/New_York' %}selected{% endif %}>America/New_York (GMT-5)</option>
                                    <option value="UTC" {% if settings.timezone == 'UTC' %}selected{% endif %}>UTC</option>
                                </select>
                                <div class="form-text">{{ 'admin.settings.application.timezone_help'|trans({}, 'admin') }}</div>
                            </div>

                            <div class="mb-3">
                                <label for="date_format" class="form-label">{{ 'admin.settings.application.date_format'|trans({}, 'admin') }}</label>
                                <select name="date_format" id="date_format" class="form-select">
                                    <option value="d.m.Y" {% if settings.date_format == 'd.m.Y' %}selected{% endif %}>31.12.2024 (d.m.Y)</option>
                                    <option value="Y-m-d" {% if settings.date_format == 'Y-m-d' %}selected{% endif %}>2024-12-31 (Y-m-d)</option>
                                    <option value="m/d/Y" {% if settings.date_format == 'm/d/Y' %}selected{% endif %}>12/31/2024 (m/d/Y)</option>
                                </select>
                                <div class="form-text">{{ 'admin.settings.application.date_format_help'|trans({}, 'admin') }}</div>
                            </div>

                            <div class="mb-3">
                                <label for="datetime_format" class="form-label">{{ 'admin.settings.application.datetime_format'|trans({}, 'admin') }}</label>
                                <select name="datetime_format" id="datetime_format" class="form-select">
                                    <option value="d.m.Y H:i" {% if settings.datetime_format == 'd.m.Y H:i' %}selected{% endif %}>31.12.2024 23:59</option>
                                    <option value="Y-m-d H:i:s" {% if settings.datetime_format == 'Y-m-d H:i:s' %}selected{% endif %}>2024-12-31 23:59:59</option>
                                    <option value="m/d/Y g:i A" {% if settings.datetime_format == 'm/d/Y g:i A' %}selected{% endif %}>12/31/2024 11:59 PM</option>
                                </select>
                                <div class="form-text">{{ 'admin.settings.application.datetime_format_help'|trans({}, 'admin') }}</div>
                            </div>
                        </div>

                        <div class="d-flex justify-content-between">
                            <a href="{{ path('admin_settings_index') }}" class="btn btn-secondary">
                                <i class="bi bi-arrow-left" aria-hidden="true"></i> {{ 'common.back'|trans({}, 'messages') }}
                            </a>
                            <button type="submit" class="btn btn-primary">
                                <i class="bi bi-save" aria-hidden="true"></i> {{ 'common.save'|trans({}, 'messages') }}
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="col-lg-4">
            <div class="card">
                <div class="card-header bg-white"><h5 class="card-title mb-0">{{ 'admin.settings.help'|trans({}, 'admin') }}</h5>
                </div>
                <div class="card-body">
                    <p class="small">{{ 'admin.settings.application.help_text'|trans({}, 'admin') }}</p>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
