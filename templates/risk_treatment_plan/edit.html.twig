{% extends 'base.html.twig' %}
{% trans_default_domain 'risk_treatment_plan' %}

{% block title %}{{ 'risk_treatment_plan.edit'|trans({}, 'risks') }}: {{ plan.title }} - {{ 'app.title'|trans({}, 'messages') }}{% endblock %}

{% block body %}
<div class="page-header">
    <div>
        <h1><i class="bi bi-pencil" aria-hidden="true"></i> {{ 'risk_treatment_plan.edit'|trans({}, 'risks') }}</h1>
        <p class="text-muted">{{ plan.title }}</p>
    </div>
    <div class="button-group">
        <a href="{{ path('app_risk_treatment_plan_show', {id: plan.id}) }}" class="btn btn-secondary">
            <i class="bi bi-arrow-left" aria-hidden="true"></i> {{ 'common.back'|trans({}, 'messages') }}
        </a>
    </div>
</div>

<div class="card">
    <div class="card-body">
        {{ form_start(form) }}
            <div class="row">
                <div class="col-md-6">
                    {{ form_row(form.risk) }}
                </div>
                <div class="col-md-6">
                    {{ form_row(form.title) }}
                </div>
            </div>

            <div class="row">
                <div class="col-12">
                    {{ form_row(form.description) }}
                </div>
            </div>

            <div class="row">
                <div class="col-md-4">
                    {{ form_row(form.status) }}
                </div>
                <div class="col-md-4">
                    {{ form_row(form.priority) }}
                </div>
                <div class="col-md-4">
                    {{ form_row(form.completionPercentage) }}
                </div>
            </div>

            <div class="row">
                <div class="col-md-4">
                    {{ form_row(form.startDate) }}
                </div>
                <div class="col-md-4">
                    {{ form_row(form.targetCompletionDate) }}
                </div>
                <div class="col-md-4">
                    {{ form_row(form.actualCompletionDate) }}
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    {{ form_row(form.responsiblePerson) }}
                </div>
                <div class="col-md-6">
                    {{ form_row(form.budget) }}
                </div>
            </div>

            <div class="row">
                <div class="col-12">
                    {{ form_row(form.controls) }}
                </div>
            </div>

            <div class="row">
                <div class="col-12">
                    {{ form_row(form.implementationNotes) }}
                </div>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary">
                    <i class="bi bi-check-circle" aria-hidden="true"></i> {{ 'common.save'|trans({}, 'messages') }}
                </button>
                <a href="{{ path('app_risk_treatment_plan_show', {id: plan.id}) }}" class="btn btn-secondary">
                    {{ 'common.cancel'|trans({}, 'messages') }}
                </a>
            </div>
        {{ form_end(form) }}
    </div>
</div>

<style>
.page-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: var(--spacing-xl);
}

.button-group {
    display: flex;
    gap: var(--spacing-sm);
}

.form-actions {
    margin-top: var(--spacing-lg);
    display: flex;
    gap: var(--spacing-sm);
}
</style>
{% endblock %}
