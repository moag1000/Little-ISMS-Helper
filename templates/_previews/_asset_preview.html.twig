{# Asset Quick View Preview #}
<div class="preview-content">
    <div class="preview-section">
        <h6 class="preview-section-title">
            <i class="bi bi-server text-primary" aria-hidden="true"></i>
            {{ 'asset.preview.title'|trans({}, 'asset') }}
        </h6>
        <dl class="row mb-0">
            <dt class="col-sm-4">{{ 'asset.field.name'|trans({}, 'asset') }}:</dt>
            <dd class="col-sm-8">{{ asset.name }}</dd>

            <dt class="col-sm-4">{{ 'asset.field.type'|trans({}, 'asset') }}:</dt>
            <dd class="col-sm-8">
                {% include '_components/_badge.html.twig' with { variant: 'secondary', content: asset.assetType } %}
            </dd>

            <dt class="col-sm-4">{{ 'asset.field.owner'|trans({}, 'asset') }}:</dt>
            <dd class="col-sm-8">{{ asset.owner }}</dd>

            {% if asset.location %}
            <dt class="col-sm-4">{{ 'asset.field.location'|trans({}, 'asset') }}:</dt>
            <dd class="col-sm-8">{{ asset.location }}</dd>
            {% endif %}

            <dt class="col-sm-4">{{ 'asset.field.status'|trans({}, 'asset') }}:</dt>
            <dd class="col-sm-8">
                {% include '_components/_badge.html.twig' with {
                    variant: asset.status == 'active' ? 'success' : 'secondary',
                    content: ('asset.status.' ~ asset.status)|trans({}, 'asset')
                } %}
            </dd>
        </dl>
    </div>

    {% if asset.description %}
    <div class="preview-section">
        <h6 class="preview-section-title">
            <i class="bi bi-file-text" aria-hidden="true"></i>
            {{ 'asset.field.description'|trans({}, 'asset') }}
        </h6>
        <p class="mb-0">{{ asset.description }}</p>
    </div>
    {% endif %}

    <div class="preview-section">
        <h6 class="preview-section-title">
            <i class="bi bi-shield-check" aria-hidden="true"></i>
            {{ 'asset.section.cia_values'|trans({}, 'asset') }}
        </h6>
        <div class="row">
            <div class="col-4">
                <div class="cia-badge">
                    <div class="cia-value">{{ asset.confidentialityValue }}</div>
                    <div class="cia-label">{{ 'asset.field.confidentiality'|trans({}, 'asset') }}</div>
                </div>
            </div>
            <div class="col-4">
                <div class="cia-badge">
                    <div class="cia-value">{{ asset.integrityValue }}</div>
                    <div class="cia-label">{{ 'asset.field.integrity'|trans({}, 'asset') }}</div>
                </div>
            </div>
            <div class="col-4">
                <div class="cia-badge">
                    <div class="cia-value">{{ asset.availabilityValue }}</div>
                    <div class="cia-label">{{ 'asset.field.availability'|trans({}, 'asset') }}</div>
                </div>
            </div>
        </div>
    </div>

    <div class="preview-section">
        <h6 class="preview-section-title">
            <i class="bi bi-graph-up" aria-hidden="true"></i>
            {{ 'common.statistics'|trans({}, 'messages') }}
        </h6>
        <div class="row g-2">
            <div class="col-6">
                <div class="stat-mini">
                    <div class="stat-mini-value">{{ asset.risks|length }}</div>
                    <div class="stat-mini-label">{{ 'asset.label.risks'|trans({}, 'asset') }}</div>
                </div>
            </div>
            <div class="col-6">
                <div class="stat-mini">
                    <div class="stat-mini-value">{{ asset.protectingControls|length }}</div>
                    <div class="stat-mini-label">{{ 'control.title.plural'|trans({}, 'control') }}</div>
                </div>
            </div>
        </div>
    </div>

    <div class="preview-actions">
        <a href="{{ path('app_asset_show', {id: asset.id}) }}" class="btn btn-primary btn-sm">
            <i class="bi bi-arrow-right" aria-hidden="true"></i> {{ 'common.view_details'|trans({}, 'messages') }}
        </a>
        <a href="{{ path('app_asset_edit', {id: asset.id}) }}" class="btn btn-outline-secondary btn-sm">
            <i class="bi bi-pencil" aria-hidden="true"></i> {{ 'common.edit'|trans({}, 'messages') }}
        </a>
    </div>
</div>
