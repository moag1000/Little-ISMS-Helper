{% extends 'base.html.twig' %}
{% trans_default_domain 'interested_parties' %}

{% block title %}{{ 'interested_party.page.new_title'|trans({}, 'interested_parties') }}{% endblock %}

{% block body %}
<div class="container">
    {% include '_components/_breadcrumb.html.twig' with {
        breadcrumbs: [
            { label: 'nav.interested_parties'|trans({}, 'nav'), url: path('app_interested_party_index') },
            { label: 'interested_party.page.new_title'|trans({}, 'interested_parties') }
        ]
    } %}

    <div class="page-header">
        <h1>{{ 'interested_party.page.new_title'|trans({}, 'interested_parties') }}</h1>
        <a href="{{ path('app_interested_party_index') }}" class="btn btn-secondary">{{ 'common.back_to_list'|trans({}, 'messages') }}</a>
    </div>

    <div class="card">
        <div class="card-content">
            {{ form_start(form) }}
                <fieldset class="mb-4">
                    <legend class="h5 mb-3">{{ 'interested_party.section.basic_info'|trans({}, 'interested_parties') }}</legend>
                    <div class="row">
                        <div class="col-md-4">
                            {{ form_row(form.name) }}
                        </div>
                        <div class="col-md-4">
                            {{ form_row(form.partyType) }}
                        </div>
                        <div class="col-md-4">
                            {{ form_row(form.importance) }}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            {{ form_row(form.description) }}
                        </div>
                    </div>
                </fieldset>

                <fieldset class="mb-4">
                    <legend class="h5 mb-3">{{ 'interested_party.section.contact_info'|trans({}, 'interested_parties') }}</legend>
                    <div class="row">
                        <div class="col-md-4">
                            {{ form_row(form.contactPerson) }}
                        </div>
                        <div class="col-md-4">
                            {{ form_row(form.email) }}
                        </div>
                        <div class="col-md-4">
                            {{ form_row(form.phone) }}
                        </div>
                    </div>
                </fieldset>

                <fieldset class="mb-4">
                    <legend class="h5 mb-3">{{ 'interested_party.section.requirements'|trans({}, 'interested_parties') }}</legend>
                    <div class="row">
                        <div class="col-12">
                            {{ form_row(form.requirements) }}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            {{ form_row(form.howAddressed) }}
                        </div>
                    </div>
                </fieldset>

                <fieldset class="mb-4">
                    <legend class="h5 mb-3">{{ 'interested_party.section.communication'|trans({}, 'interested_parties') }}</legend>
                    <div class="row">
                        <div class="col-md-6">
                            {{ form_row(form.communicationFrequency) }}
                        </div>
                        <div class="col-md-6">
                            {{ form_row(form.communicationMethod) }}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            {{ form_row(form.lastCommunication) }}
                        </div>
                        <div class="col-md-6">
                            {{ form_row(form.nextCommunication) }}
                        </div>
                    </div>
                </fieldset>

                <fieldset class="mb-4">
                    <legend class="h5 mb-3">{{ 'interested_party.section.feedback'|trans({}, 'interested_parties') }}</legend>
                    <div class="row">
                        <div class="col-12">
                            {{ form_row(form.feedback) }}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            {{ form_row(form.satisfactionLevel) }}
                        </div>
                        <div class="col-md-6">
                            {{ form_row(form.issues) }}
                        </div>
                    </div>
                </fieldset>

                <div class="d-flex justify-content-between mt-4">
                    <a href="{{ path('app_interested_party_index') }}" class="btn btn-secondary">
                        {{ 'common.cancel'|trans({}, 'messages') }}
                    </a>
                    <button type="submit" class="btn btn-primary">
                        {{ 'interested_party.action.create'|trans({}, 'interested_parties') }}
                    </button>
                </div>
            {{ form_end(form) }}
        </div>
    </div>
</div>
{% endblock %}
