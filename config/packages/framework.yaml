# see https://symfony.com/doc/current/reference/configuration/framework.html
framework:
    secret: '%env(APP_SECRET)%'

    # Security: Comprehensive session configuration
    # Protects against session hijacking and fixation attacks (OWASP A07:2021)
    session:
        # Session cookie security settings
        cookie_secure: 'auto'        # Only send cookie over HTTPS in production
        cookie_httponly: true         # Prevent JavaScript access to session cookie (XSS protection)
        cookie_samesite: 'strict'     # CSRF protection - cookie only sent with same-site requests

        # Session management
        gc_maxlifetime: 3600          # Session lifetime: 1 hour
        gc_probability: 1
        gc_divisor: 100

        # Session security
        use_strict_mode: true         # Reject uninitialized session IDs
        sid_length: 48                # Longer session IDs are harder to guess
        sid_bits_per_character: 6     # More entropy per character

    #esi: true
    #fragments: true

when@test:
    framework:
        test: true
        session:
            storage_factory_id: session.storage.factory.mock_file
